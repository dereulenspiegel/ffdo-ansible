#
# This file is managed by ansible. Do not edit by hand!
#

{% if supernode_uplinks is defined %}
template bgp uplink {
        local as {{supernode_uplinks[0].as}};
        import all;
        export all;
        next hop self;
        direct;
        multihop 64;
}

{% for uplink in supernode_uplinks %}
protocol bgp {{uplink.name}} from uplink {
        neighbor {{uplink.address_v6|ipaddr('address')}} as {{uplink.as}};
        default bgp_med 2;
}

{% endfor %}
{% endif %}
